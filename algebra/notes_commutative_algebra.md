### 术语

+ 后文提到的环如果没有特殊声明都按照交换环考虑
+ 环上的代数：R是一个交换环，R上的一个交换代数由一个交换环S和一个R$\rarr$S的环同态$\alpha$构成，对$r \in R, s \in S$，一般用rs代替$\alpha(r)s$。假设代数S是由一系列生成元构成的集合P中的元素生成，则$S \cong R[P]$
+ summand: 对于模而言，M是P的一个summand等价于 $\exists \sigma : M \rarr P, \phi : P \rarr M, s.t. \phi \sigma = id$

### Chp1

Hilbert基定理：一个Noetherian环关于有限个变元的多项式环仍然是Noetherian环。

+ 注意对于一个环R而言，有$(R[x])[y] \cong R[x, y]$，从而只要证明R[x]是Noetherian的即可。

+ R[x]的一个特性在于，它的任意一个理想$I$都可以由可数个元素生成。这个函数可以通过一个整数的归纳过程给出：一开始取$I$与R的交的生成元生成J，以后在第k次归纳过程中取I的不在J中的元素中次数最低的所有多项式$\{f_{ki}\}$的首项系数$\{a_{ki}\}$生成的R中的理想$I'$的生成元加入J，实现J的一个扩张。按照这个过程J最终会等于I，而这个过程每次添加的生成元数量是有限的
+ 基定理的意义在于将上面的可数个生成元压缩成了有限个生成元。如果把上面每一步的$I'$加起来，就可以得到一个新的R的理想，假设其生成元为$\{a_i\}$，而且$\{a_i\}$都是上面每次加入J中的生成元，相应的多项式为$\{f_i\}$，这有限个多项式的最高幂次是m，则上面的从第一步到第m步的所有多项式$f_{11}, f_{12}, ...f_{m1}, ...f_{mn}$可以生成$I$

由代数与多项式环的关系可以知道如果R是Noetherian的那么R的一个有限生成的代数也是Noetherian的。进一步，Noetherian环R上的有限生成模M是Noetherian的（任意子模都是有限生成的）：

+ 对于一维情形，注意到将R看作模时子模实际上就是理想，任意由一个生成元生成的R的模都是R看作模的商模。
+ 对于二维情形，设M由$b_1$和$b_2$生成，考虑商映射$\phi_1: M \rarr M/(Rb_2)$，后一个模由$\phi_1(b_1)$生成，考虑M的子模N，$\phi_1(N)$是有限生成的，假设其生成元为$\bar{n_1},\bar{n_2}... \bar{n_k}$，其原象为$n_1, n_2 ... n_k$，则N中每个元都和由$n_1, n_2...n_k$生成的模中的某个元相差一个$Rb_2$中的元t，所有这样的t的集合又生成一个$Rb_2$中的子模，从而N是有限生成的。类似地可以证明，如果M0是M的子模，则M Noetherian等价于M0和M/M0 都Noetherian

Invariant Theory：该理论的一个重要问题是研究（关于若干个变元的）多项式环在某个自同构群作用下的不变元的结构：

+ 给定n个元素的置换群，在该置换群作用下（交换变量的名称）保持形式不变的多项式称为对称多项式，对称多项式都可以用经典的基本多项式进行表达
+ 给定关于两个变量的n次齐次多项式的一般形式：$f(x,y) = \sum_{k = 0}^na_kx^ky^{n-k}$，对x和y做线性变量替换：$\bar{x} = c_{11} x + c_{12}y, \bar{y} = c_{21}x + c_{22}y$，带入f的表达式，得到$f(\bar{x}, \bar{y}) = \sum_{k = 0}^n \bar{a_k} \bar{x}^k \bar{y}^{n-k}$ 。给定一个关于$A_0, A_1 ... A_n$的多项式$I$, 如果对于任意上面的变换，都有：$I(\bar{a}_0, \bar{a}_1, ... \bar{a}_n) = (c_{11}c_{22} - c_{12}c_{21})^g I(a_0, a_1...a_n)$，则称I是"Invariant of binary forms of degree n"

通常情况下，考虑的自同构群可以看做变元构成的线性空间上的线性变换。__Hilbert的basis theorem最早被用来证明所有的不变元构成的子代数是有限生成的。__

Graded ring：

+ 一个环R看做Abel群时存在一个直和分解：$R = R_0 \bigoplus R_1 \bigoplus R_2 \bigoplus ... $，（所以$R_i$关于加法是封闭的但是乘法未必），同时$R_i R_j \sub R_{i + j}$ (由于对加法是封闭的，只要保证$R_i$中的任意一个元素和$R_j$中任意一个元素相乘结果在$R_{i + j}$中即可)。进一步，直和分解的角标可以拓展到负数（此时称为对$\Z$进行分级），甚至关于任意的幺半群进行分级。最简单的分级环是按照多项式的度数进行分级的环。
+ 从定义立刻可以看到$R_0$是R的一个子环，即使关于任意幺半群进行分级也是一样。
+ 齐次元是属于某个$R_i$中的元素，齐次理想是由齐次元生成的理想，由直和可以知道，$\forall f \in R$, f可以唯一分解为齐次元的和。同样根据直和，齐次理想中的齐次元可以通过齐次元加权生成元（同样是齐次的）得到。i.e.如果齐次理想m由$f_1, f_2, ... , f_n$生成，$f$是齐次元，则存在齐次元$g_1, g_2, ... , g_n \ s.t. f = \sum g_i f_i$ 。很重要的一点在于$g_i$的度数是低于$f$的度数的，这使得__根据度数进行归纳成为可能。__

Hilbert对于不变环有限生成性质的证明：

+ 存在保持分级的$S \rarr S^G$的映射，该映射还固定$S^G$中的元素。对G是有限群的过程，可以通过取所有映射值平均值的方法得到，如果G是无限群，则要考虑积分
+ 若k为一个域，$S = k[x_1, ..., x_r]$为按度数进行分级的多项式环，R是S的一个k子代数，如果存在一个映射$\phi : S \rarr R$ s.t.保持度数（保持分级）同时保持R中的元素映射到自身（这种情况下称R是S的一个summand），则R是一个有限生成的k子代数。__有限生成代数不同于有限生成理想：__有限生成子代数意味着存在有限个R中的元素r1, ... , rn使得任何一个元素都可以表示成关于这些生成元的__多项式__，以k中的元素作为系数。
+ 设$m \sub R$是其中所有度数大于0的多项式，$mS$是这些多项式在S中生成的理想，根据S的Noetherian性质，$mS$存在有限个生成元$f_1, f_2, ...,f_n$，对任意的度数非0的$f \in R$（根据分级的性质，只要考虑__齐次__的$f$即可），由于$f$在$m$中，存在同样齐次的$g_1, g_2 ... g_n \in S$ s.t. $f = \sum f_ig_i$ ，等式两边同时作用$\phi$，得到：$f = \sum f_i \phi(g_i)$ ，由于__每个g的次数都低于f，从而可以对f的度数进行归纳。__ 

零点定理：

+ 域k上的n个变元的多项式可以定义$k^n$上的多项式函数，当k为无穷域时，任意一个非0多项式函数都不在$k^n$上恒等于0（借助将变元赋值为常数的specialization的过程以及一元多项式只有有限个根的事实）。当考察其上的多项式函数时，通常将$k^n$称为k上的"仿射n空间"，记做$A^n(k)$或者$A^n$ 。

+ 给定$I \sub k[x_1, ...x_n]$，定义$I$所对应的代数子集为$Z(I) = \{(a_1, ..., a_n) \in k^n | f(a_1, ... a_n) = 0\ \forall f \in I \}$ ，如果把$I$换成由$I$中的元素生成的理想，则$Z(I)$不会发生变化。令$X= Z(I)$为一个代数子集，$X$的一个代数子集Y是指$\exist J \sub k[x_1, ..., x_n] s.t. Y = Z(J)$ 。如果一个代数子集不是两个更小的代数子集的并，则称这个代数子集是不可分的，也叫代数簇（algebraic variaty）

+ 仿射空间拓扑：对于k为实数或者复数的情形，$k^n$拥有经典拓扑结构，相应的代数子集继承子空间拓扑即可；一般的对于任意的域，则通过将所有的代数子集看做闭集来生成一个拓扑，注意任意多个代数子集的交还是代数子集（相应多项式集合求并），有限多个代数子集的并还是代数子集（相应多项式集合求乘积）。__在该拓扑下多项式函数是否还是连续的？__

+ 上面的做法是给定一个理想确定一个零点的集合，也可以反过来，通过给定的集合确定将这个集合作为零点的多项式构成的理想：给定$X \sub k^n$ ，定义$I(X) = \{f\ \in k[x_1, ... x_n] | f(a_1, ... a_n) = 0 \ \forall (a_1, ... a_n) \in X \}$ 。在X上定义的多项式函数就是$A^n$上的多项式函数在X上的限制，将取相同值的多项式看做相同， 所有等价类构成的环称为X上的坐标环（coordinate ring，因为是X上的由坐标函数生成的k-代数），坐标环就是$k[x_1, ..., x_n] / I(X)$。

+ 然而不是任何一个 $k[x_1, ..., x_n]$的商环都是一个坐标换，因为商环中可能存在一个元素$f$满足$f \ne 0 \land \exist n \in \N \ s.t. f^n = 0$，但是对于坐标环中的任何一个元素，因为是映射到域中的，如果像不是0，任意幂次都不是0，而$f \ne 0$已经说明存在X中的元在f下的像不是0了。这样的代数称为约减的(reduced)。为了避免这样的情况出现需要对理想本身的结构加以限制：给定环$R$的一个理想$I$，定义$rad\ I := \{f \in R | \exist m \in \N \ s.t. f^m \in I \}$ 。这实际上定义了一个理想：$f^m = 0 \land g^n = 0 \rarr (f+g)^{n+m}=0$ 。rad I被称为I的根，如果$I = rad \ I$则称$I$为根理想(radical ideal)。__注意区别素理想，根理想的要求弱于素理想__

+ __Hilbert零点定理（Nullstellensatz）:__ 对于代数封闭域k，令$I \sub k[x_1, ... , x_n]$是一个理想，则有
  $$
  I(Z(I)) = rad \ I
  $$
  从而映射$I \to Z(I)$以及$X \to I(X)$ 实现了仿射空间$k^n$中的__代数集__和多项式环$k[x_1, ... , x_n]$ 中__根理想__的__一一对应__。

  推论：

  + 多项式方程组
    $$
    f_1(x_1, ... , x_n) = 0 \\
    f_2(x_1, ..., x_n) = 0 \\
    ...\\
    f_m(x_1, ..., x_n) = 0
    $$
    无解等价于存在多项式$\{p_i\} s.t. \sum p_i f_i = 1$ ，因为无解意味着相应的代数集为空集，空集对应的理想是全理想，所以rad f中包含了1

  + 对于代数完备域k，A是k上的代数，则A是某个代数集上的坐标环等价于A是约减的并且A是有限生成的(有限生成的代数一定可以写成某个商环的形式，再借助对应关系)。这样的约减有限生成代数也被称为仿射k-代数（或者不提k，仿射环）

  + 令k为代数封闭域，$X \sub A^n$ ，则A(X)中的每一个极大理想都具有形式$m_p = (x_1 - a_1, ... , x_n - a_n) / I(X)$ ，其中$p=(a_1, ..., a_n) \in X$ ，特别地，__X中的点和A(X)中的极大理想存在一一对应__（极大理想也是根理想，若$p\in Z(m)$，则$m \sub I(\{p\})$，由m的极大特性知道$Z(m) = \{p\}$）。

  + 代数集之间的映射关系（态射，morphisms）。考虑多项式函数
    $$
    F: (a_1, ..., a_n) \mapsto (f_1(a_1, ..., a_n), ... , f_m(a_1, ... , a_n))
    $$
    其将$k^n$映射到$k^m$ 。设代数集X在F作用下被映射到Y，设g是Y的一个化零多项式，则对于任意的$(x_1, ..., x_n ) \in X$， 有$g(f_1(x_1, ..., x_n), ..., f_m(x_1, ..., x_n)) = 0$ ，换言之，$g \circ F$是$I(X)$中的元。从而借助F实现了一个从$I(Y) \rarr I(X)$的映射$F^\#:  F^\# (g) = g \circ F$。将A(X)与A(Y)看做X和Y上到k的多项式函数，则$F^\#$还定义了A(Y)和A(X)作为__k-代数__的同态。注意只要F在X上的像确定了，$F^\#$也就确定了。

    反过来，给定一个A(Y)到A(X)的-__k-代数同态__$F^\#$，只要确定坐标函数在$F^\#$下的像的代表元（等价的代表元被映射到相同的值）就可以确定一个X到Y的映射。

    最后，给定一个A(X)中的极大理想$m_p$，其在$F^\#$作用下的原像是A(Y)中的一个极大理想（一般情况下这个结论是不正确的，但是因为$F^\#$保持k中的元，所以原像不是A(Y)，故是极大理想），所以$\phi$同样诱导两个环的极大理想集合之间的映射f。这样一来，__借助于坐标换，实现了理想和代数集（曲线）之间的联系__，事实上由$F^\#$诱导的极大理想间映射和代数集间映射也是等价的，实现这种等价关系的极大理想和代数集的关联就是前面提到点对极大理想的关联(p)。用图表表示就是
    $$
    \begin{CD}
    A(Y) @>{F^\#}>> A(X)\\
    @VZVV @VVZV\\
    Y @<F<< X
    \end{CD}
    
    \begin{CD}
    A(Y) @>{F^\#}>> A(X)\\
    @AIAA @AAIA\\
    Y @<F<< X
    \end{CD}
    
    \\
    
    \begin{CD}
    M(A(Y)) @<f<< M(A(X))\\
    @AAA @AAA\\
    A(Y) @>{F^\#}>> A(X)\\
    \end{CD}
    
    \begin{CD}
    M(A(Y)) @<f<< M(A(X)) \\
    @Vp^{-1}VV @AApA\\
    Y @<F<< X
    \end{CD}
    $$

    前两个图表说明有限生成约减环范畴（用环同态作为态射）和代数集范畴（用多项式映射作为态射）是等价的，从约减环构建理想再生成代数集的“约减环对象到代数集对象映射”以及F和$F^\#$之间的对应关系是逆变函子（$f(\phi \circ \eta) = f(\eta) \circ f(\phi)$ 。这个范畴等价意味着可以几何对象（代数集）之间映射的研究可以转换为相应的约减环之间映射的研究。

    第三个图表描述的是约减环范畴到极大理想集合范畴的逆变函子。第四个图表描述的是__映射等价性而不是函子__，第四张图说明X中的点p先通过与极大理想对应的关系映射到$m_p$再通过由$F^\#$诱导的极大理想映射f映射到一个A(Y)的极大理想$m_q$，再映射回Y中的点q，和直接通过多项式映射F映射到Y的结果是一样的。即证明q=F(p)。事实上，p对应理想$m_p$__等价于__存在将A(X)__映满__k的一个以$m_p$作为核的（k-代数）同态$\phi$使得对A中的坐标函数$x_i$有$\phi(x_i) = p_i$（注意如果有$\phi_1$和$\phi_2$同时满足将A(X)映满k, 核为$m_p$，则坐标函数在两个映射下的像一定是相同的，不然会有$1 \in m_p$ ）。此时又有$F^\#(m_q) = m_p$，故存在A(Y)到k的以$m_q$为核的__满__(意味着理想是极大理想)同态，A(Y)的各个坐标函数在该映射下的像就是$F^\#(y_i)$在$\phi$下的像。

    从极大理想的映射来研究代数集之间的映射关系的优点在于实现了坐标系无关。

几何不变论(Geometric Invariant Theory)：

设G为作用在某个集合上的群（这意味着$r(s(x)) = (r s)(x)$）。商空间X/G定义为X在G作用下的轨道的集合，商映射$\pi: X \to X/G$ 将每个X中的元素映射到其轨道。如果X本身具有拓扑结构，则X/G可以赋予商拓扑。即使G的元都可以用多项式进行表示，X/G本身不能被看做一个代数簇使得$\pi$是一个代数簇之间的态射：代数簇需要满足Zariski拓扑，但是$\pi$赋予X/G的商拓扑可能和Zariski拓扑不一致。

对G的元可以用多项式函数进行表示的情形，G也可以作用于X的坐标环A(X)($g \in G, f \in A(X)$ ，g把f映射到$f \circ g$)。A(X)中那些在G作用下的不变元，就是那些在G的轨道上取定值的元（$f \circ g(x) = f(x), \forall g \in G, x \in X$）。这些f可以定义一个X/G上的函数的环。__如果X/G或者其一个子集可以被看做代数簇，那么__ $A(X)^G$ __应该就是这个代数簇的坐标环 。__

投影簇：

k为域，k上的投影r-空间$P^r(k)$ 是$k^{r+1}$ 中一维子空间的集合。用一个r+1维的元组来表示$P^r(k)$ 中的点，如果$(a_0, ...a_r)$是一个表示，$b \ne 0$ ,则$b(a_0, ... a_r)$表示同一个点，给定一个r+1个元的齐次多项式f和$P^r(k)$ 中的点L，讨论f在L处的取值是无意义的，但是可以讨论f是否在L消失——如果一个表示取值是0，那么所有表示就都是0。

对多项式环$S = k[x_0, ... x_r]$ 按照度数进行分级，给定S的一个齐次理想$I$ , 定义和$I$ 关联的投影代数集Z(I)为那些使得所有I中的齐次多项式消失的$P^r(k)$ 中的点。同样，给定$P^r(k)$ 中的集合X，定义I(X)为所有在X上消失的齐次项生成的理想。如果k是代数封闭的，由于齐次理想的根理想还是齐次理想（如果一个多项式属于其次理想，则其所有的齐次分量同样位于该理想中），零点定理给出齐次根理想和投影代数集之间的一一对应。

$P^r(k)$ 分解成仿射空间的disjoint union（分离并）：$P^r(k)$ 中第一个分量非0的元素的集合U和$A^r(k)$ 中的元存在一一对应，剩下的元素构成的集合H（称为**在无穷远处的超平面**）和$P^{r - 1}(k)$ 中的元素一一对应，按照该规律进行细分，可以得到$P^r(k) = A^r(k) \cup A^{r-1}(k) \cup ... A^0(k)$ 。

如果$X \sub P^r$ 是某个齐次多项式F的零点，则$X \cap U$ 对应的$A^r$中的像满足$f(x_1, ..., x_r) = F(1, x_1, ... x_r)$ 从而$X \cap U$ 的像是$A^r$中的一个代数集（注意f在$A^r$中的任意一个零点都在$X \cap U$ 的像中）。另一方面，每个多项式$f(x_1, ... ,x_r) $ 都可以写成齐次多项式$F(x_0, x_1, ... , x_r)$的形式：$F(x_0, x_1, ... , x_r)= x_0^d f(x_1/x_0, ..x_r / x_0) $ ，其中d是f的度数。这个过程称为齐次化，__齐次化的意义__是每个$A^r$中的代数集都是某个$P^r$中的代数集与U的交。给定一个$A^r$中的代数集X，其在$P^r$中的__投影闭包__是最小的与U的交是X的$P^r$中的代数集。投影闭包对应的理想由__所有__$I(x)$中元素的齐次化生成(只对生成元进行齐次化是不够的)。

### 习题

把理想和代数集赋予按照包含关系排列的偏序，则将理想映射到代数集的映射Z和反向映射都是反偏序关系的，这是证明代数集和根理想对应（在根理想中的像集）一一对应关系的关键。还可以用于证明如果$X_1 \leftrightarrow J_1, X_2 \leftrightarrow J_2$，则有$X_1 \cup X_2 \leftrightarrow J_1 \cap J_2$。

素理想对应的代数集是代数簇，即不能写成两个代数集之并的代数集，注意素理想不能是有限个互不包含的真理想的交。Emmy Noether指出，如果R Noetherian，则所有包含$I$的素理想只有有限个在包含偏序下是极小的。这说明一个代数集最多可以分成有限个代数簇。

S为Noetherian时S的子环R不一定Noetherian，但是当R是S的summand时，可以得到R Noetherian。利用同态得到生成元。

域上有限生成的代数一定是Noetherian 环，但是Noetherian环不一定总是有限生成的。但对分级环有肯定回答：$R = R_0 \bigoplus R_1 \bigoplus R_2 \bigoplus ...$ 为分级环，则R Noetherian等价于是有限生成的$R_0$代数。注意到$R_0$是R的summand同时无关理想$R_1 \bigoplus R_2 \bigoplus ...$ 是有限生成的，而且根据直和性质，$R_1$中的元都是生成元中位于$R_1$中者关于$R_0$元素的线性组合，$R_2$中的元素都是生成元中位于$R_1$和$R_2$ 者关于$R_0$ 的加权(可能出现两个$R_1$中的生成元相乘的情况)...进而可以得到R的有限生成性。

不变环不是多项式环的例子：

+ 令k为一个特征不是2的无限域，g是$G=Z/(2)$ 的生成元，g作用在k[x, y]的生成元上使得g x = -x, g y = -y，则k[x, y]在G作用下的不变环由$xy, x^2, y^2$ 生成
  + （注意对任意的单项式$x^i y^j$, $g(x^iy^j) = (-1)^{i+j}x^iy^j$，不改变单项式的幂次，如果f在g作用下不变，则f的每个项也应在g作用下不变，对于所有这样的单项式,i + j应该为偶数，从而可以用$xy, x^2, y^2$ 生成。）
+ 但是$k[xy, x^2, y^2] \cong k[u, v, w] / (vw-u^2)$ 
  + （最重要的找出使得$f(xy, x^2, y^2)$为0的多项式，注意对于无限域而言，一个多项式在$A^r$中的所有点取0等价于这个多项式是0多项式；对k进行完备化，所有这样的f在曲面$E =(xy, x^2, y^2)$上都取0，即$f \in Z(E) $ ,由于曲面上的点都满足$vw-u^2=0$ ，而$vw-u^2=0$ 的解都在曲面上，从而$Z(E)=(vw-u^2)$ 。如果有另外的不在$(vw-u^2)$中的f使得其作用在$xy, x^2, y^2$上都是0,则Z(E)中应该同样包含f）
+ 不同构于多项式环的证明：注意这个环不具有唯一分解性

画出一个环对应的图像，一般都是以环为R画二维图像，图像可能造成的误导在于，图像中没有相交的两个分支，在不同的域中可能是相交的。在图中看上去不相交的两个部分，有可能只是一个不可分代数集的子集

如果X是$k^r$ 中一个由过原点直线构成的子集，则$I(X)$为齐次理想。设有$f\in I(X)$ , f具有齐次分量$f_1, f_2, ..., f_n$ ，它们的度分别为$p_1, p_2, ...,p_n$ 。设$x_0 \in X$ ,则根据X的性质可知$\forall r \in k$, $rx_0 \in X$ ，从而有： 
$$
f(rx_0) = r^{p_1} f_1(x_0) + r^{p_2}f_2(x_0) + ... + r^{p_n}f_n(x_0) = 0
$$
除非$f_1(x_0) = f_2(x_0) = ... = f_n(x_0) = 0$ ,否则上面的一次方程有无穷个根。这意味着f的每个齐次分量都是$I(x)$ 中的元

