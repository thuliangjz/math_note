# Localization

local ring：只有一个极大理想的环。

localization起源：给定代数集$X \sub A^r_k$，p为其中一点，研究X在p点处的局部性质等价于研究形如$X-Y$的邻域，Y为代数集。设X对应于$k[x_1, ...,x_r]$中的理想$I$，Y由某个关于$x_1, x_2, ..., x_r$的多项式f的零点构成，则X-Y中的每个点被Y作用都非零，考虑$k[x_1, x_2, ... x_r, z]$中的理想$J = I + (zf - 1)$ ，每个J的零点在前r维的投影都对应一个X-Y中的点，反过来，每个X-Y中的点也同样对应且只对应一个J的零点，即投影实现了Z(J)到X-Y的一一对应。注意到$k[x_1, x_2, ... x_r, z] / J = A(X)[z] / (zf - 1)​$。如果就把这个环看做X-Y的坐标环，则A(X-Y)相当于在A(X)中引入了一个f的倒数。研究局部性质转变为研究添加倒数的环。



## Fractions

一般的局部化不一定只限于一个多项式，令U是一个R的关于乘法封闭且含有1的子集，设M是一个R模，定义M在U处的局部化$M[U^{-1}]$ 为二元组 (m, u)的等价类构成的集合，当两个元组$(m, u), (m', u')$满足$\exists v \in U \text{ s.t. } v(m u' -  m' u) = 0 $ 时，这两个元组视为等价的。注意定义本身没有限制U包含0的情况，但是当U包含0时，$M[U^{-1}]$ 将只包含一个元素。$M[U^{-1}]​$ 作为一个R模的运算如下：
$$
m/u + m'/u' = (mu' + m'u) / uu' \\
r (m/u) = (rm) / u
$$

如果M = R则还可以赋予乘法：$(r/u) (r'/u') = rr' / uu'$ , 事实上$M[U^{-1}]$ 还是一个$R[U^{-1}]$ 模：$(r / u) (m / u') = rm / uu'$ 

设M为一个R模，M中的一个元素m在$M[U^{-1}] $中等价于0等价于存在某个U中的元素u使得um = 0。R的完全商环$K(R)$ 定义为R关于R中所有非0除数构成的集合的局部化，这是最大的保证R中的元素不在局部化中归零的局部化。

如果P是一个R的素理想，则R-P是一个关于乘法封闭的集合，记R关于这个集合的局部化为$R_P$ , 将一个R模关于该集合的局部化记为$M_P$ ，定义$\kappa (P) = R_P / P_P$ ，称为R在P处的剩余类域。之前提到的对坐标换的局部化实际上就是将坐标环关于在某个点处非零的所有元素取逆得到的。

给定R模之间的同态$\phi : M \to N$ ，映射$m / u \to \phi(m) / u$ 实现了$M [U^{-1}] \to N[U^{-1}]$ 的同态映射。称为对同态的局部化，这本身实现了从R模范畴到$R[U^{-1}] $模范畴的函子

局部化具有通用性质，任何将U映射成可逆元集合的R同态都可以通过$ R[U^{-1}] $ 同态得到。

局部化理想的性质：

令$\phi : R \to R[U^{-1}]$ 为将r映射到r/1的自然映射，则对任意$I \in R[U^{-1}]$ ，有$I = \phi^{-1}(I)R[U^{-1}]$ ，从而将$I$映射到$ \phi^{-1}(I) $ 的映射是一个将$R[U^{-1}]$的理想映射到R中理想的单射，该单射保持理想包含和相交关系，同时将素理想映射到素理想。

+ 设$I​$中有元素$r / u​$ ，则$ r / 1 \in I ​$ ，从而$r \in \phi^{-1}(I)​$ ，即$ \phi^{-1}(I) ​$包含了其中所有分数的分子
+ 由于任意一个$I​$中的元素都是分子乘以某个$\frac{1}{u}​$ ，从而$I \sub \phi^{-1}(I)R[U^{-1}]​$ 。反向的包含关系同样是成立的。从而两者相等。
+ 关于素理想被映射到素理想的问题，如果$I​$为素理想，$ ab \in \phi^{-1}(I )​$ ，则$(a/1)(b/1) \in I​$ ，从而$a / 1 \in I​$ 或者$b /1 \in I​$ ，从而a或者b在$ \phi^{-1}(I ) ​$ 中
+ 根据$I = \phi^{-1}(I)R[U^{-1}]$ 可以知道一个Noetherian环的localization仍然是Noetherian的，因为$I$可以根据$\phi^{-1}(I) ​$的生成元生成。

R中的理想J是某个$ R[U^{-1}] $的理想在$\phi$下的原像，当且仅当$ J = \phi^{-1}(JR[U^{-1}]) ​$ 。这又等价于U的每个元素是J的非零除数(non zero divisor)

+ 根据$I = \phi^{-1}(I)R[U^{-1}]$有$ \phi^{-1}(I) = \phi^{-1}(\phi^{-1}(I)R[U^{-1}]) $ ，从而有第一个判别条件
+ 考虑映射$R \xrightarrow{\phi} R[U^{-1}] \to R[U^{-1}] / I​$ ，如果$J = \phi^{-1}(I)​$ ，则这个复合映射的核是J，由于其将U中的元素映射到$R[U^{-1}] / I​$的可逆元，从而至少U在R/J中的像不包含R/J的零除数
+ 如果U在R/J中的像不包含R/J的零除数，则只要证明$  \phi^{-1}(JR[U^{-1}])  \sub J $ 即可。给定$r \in \phi^{-1}(JR[U^{-1}]) $，存在$j \in J, u \in U$ s.t. $r/ 1 = j / u$ ，从而有$u' \in U$ 使得$ruu' = ju'$ ，右侧是在J中的，左侧的$u u' \in U$ ，从而$r \in J$ 。

